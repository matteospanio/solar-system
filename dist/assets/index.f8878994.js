var S=Object.defineProperty;var M=(i,e,t)=>e in i?S(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var c=(i,e,t)=>(M(i,typeof e!="symbol"?e+"":e,t),t);import{M as u,S as p,a as P,T as w,b as l,c as b,A as j,P as L,W as N,O as A,d as F,e as E,B as T,f as h,F as z,g as O,h as v,i as R,j as V,k as U}from"./vendor.5f5bbedb.js";const W=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}};W();class a extends u{constructor(e,t,n,r,s){let o=new p(t,64,64);r||(r=new P({map:new w().load(n)}));super(o,r);this.movement=s,this.name=e,this.matrixAutoUpdate=!1}update(e){this.matrix=this.movement.update(e),this.children.forEach(t=>{t instanceof a&&t.update(e)})}}class d{constructor(e,t,n,r){this.distance=e,this.rotationSpeed=t,this.revolutionSpeed=n,this.rotationPhase=r}update(e){let t=new l().makeTranslation(this.distance,0,0),n=new l().makeRotationY(this.rotationSpeed*e+this.rotationPhase),r=new l().makeRotationY(this.revolutionSpeed*e);return new l().multiplyMatrices(n,t).multiply(r)}}class k{constructor(){c(this,"renderLoop",()=>{requestAnimationFrame(this.renderLoop),this.update(this.dt),this.renderer.render(this.scene,this.camera)});this.scene=new b,this.light=new j(16777215,.15),this.camera=new L(60,window.innerWidth/window.innerHeight,.1,1e6),this.renderer=new N({antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.light.position.set(-1,2,4),this.camera.position.set(0,0,3),this.scene.add(this.light),this.scene.add(this.camera),document.body.appendChild(this.renderer.domElement),new A(this.camera,this.renderer.domElement),window.addEventListener("resize",()=>{this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))},!1)}get dt(){let e=new Date().getTime(),t=e-this.time;return this.time=e,t}start(){this.time=new Date().getTime(),this.renderLoop()}update(e){throw new Error("Not implemented")}}class B extends F{update(e){this.children.forEach(t=>{t.update(e)})}}class C extends E{constructor(){let e=new T,t=[];for(let n=0;n<1e4;n++)t.push(h.randFloatSpread(3e3)),t.push(h.randFloatSpread(3e3)),t.push(h.randFloatSpread(3e3));e.setAttribute("position",new z(t,3));super(e,new O({color:8947848}))}}var D="varying vec2 vertexUV;varying vec3 vertexNormal;void main(){vertexUV=uv;vertexNormal=normalize(normalMatrix*normal);gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}",G="uniform sampler2D sunTexture;varying vec2 vertexUV;varying vec3 vertexNormal;void main(){float intensity=1.05-dot(vertexNormal,vec3(0.0,0.0,1.0));vec3 atmosphere=vec3(1.0,0.6,1)*pow(intensity,1.5);gl_FragColor=vec4(atmosphere+texture2D(sunTexture,vertexUV).xyz,1.0);}",H="varying vec3 vertexNormal;void main(){float intensity=pow(0.4-dot(vertexNormal,vec3(0,0,1.0)),2.0);gl_FragColor=vec4(1,1,0.9,1)*intensity;}",_="varying vec3 vertexNormal;void main(){vertexNormal=normalize(normalMatrix*normal);gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}";class q extends a{constructor(e,t,n){let r=new v({vertexShader:D,fragmentShader:G,uniforms:{sunTexture:{value:new w().load(n)}}});super(e,t,n,r,new d(0,0,1e-4,0));this.light=new R(16777130,.8,100),this.light.castShadow=!0,this.castShadow=!1,this.receiveShadow=!1,this.add(this.light),this.add(new Y)}}class Y extends u{constructor(){const e=new p(6,64,64),t=new v({vertexShader:_,fragmentShader:H,blending:V,side:U});super(e,t)}}class I extends k{constructor(){super();this.t=0,this.stars=new C,this.scene.add(this.stars),this.solarSystem=new B,this.scene.add(this.solarSystem);let e=new d(20,5e-4,.005,0),t=new a("Earth",1,"img/earth.jpg",null,e),n=new d(3,0,0,0),r=new a("Moon",1/2,"img/moon.jpg",null,n);t.add(r);let s=new d(35,3e-4,.001,.5),o=new a("Mars",.9,"img/mars.jpg",null,s);this.solarSystem.add(o);let g=new d(50,1e-4,5e-4,1),m=new a("Jupiter",1.5,"img/jupiter.jpg",null,g);this.solarSystem.add(m);let f=new d(5,0,0,0),x=new a("Ganymede",.7,"img/ganymede.jpg",null,f);m.add(x);let y=new q("Sun",3,"./img/sun.jpg");this.solarSystem.add(y),this.solarSystem.add(t)}update(e){this.t+=e,this.solarSystem.update(this.t)}}window.onload=()=>{const i=new I;i.camera.position.z=25,i.start()};
